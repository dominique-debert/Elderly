generator client {
  provider = "prisma-client-js"
  output   = "../prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model activity {
  id                    String                 @id @default(cuid())
  creatorId             String?                @map("creator_id")
  title                 String
  description           String?
  startDate             DateTime               @map("start_date") @db.Timestamp(6)
  endDate               DateTime?              @map("end_date") @db.Timestamp(6)
  location              String?
  maxSpots              Int?                   @map("max_spots")
  recurring             Boolean?               @default(false)
  frequency             String?
  reducedMobilityAccess Boolean                @default(false) @map("reduced_mobility_access")
  cost                  Decimal?               @default(0.00) @db.Decimal(10, 2)
  status                String?
  weatherRequirements   String?                @map("weather_requirements")
  transportOptions      String?                @map("transport_options")
  createdAt             DateTime               @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt             DateTime?              @map("updated_at") @db.Timestamp(6)
  difficultyLevel       Int?                   @map("difficulty_level")
  categoryId            Int                    @map("category_id")
  latitude              String?                @map("latitude")
  longitude             String?                @map("longitude")
  estimatedDuration     Int?                   @map("estimated_duration")
  image                 String?
  category              category               @relation(fields: [categoryId], references: [id])
  user                  user?                  @relation(fields: [creatorId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  activityRegistration  activityRegistration[]
}

model activityLog {
  id          String    @id @default(cuid())
  actionType  String?   @map("action_type")
  description String?
  ipAddress   String?   @map("ip_address")
  device      String?
  createdAt   DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime? @map("updated_at") @db.Timestamp(6)
  userId      String?   @map("user_id")
  user        user?     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("activity_log")
}

model activityRegistration {
  activityId          String    @map("activity_id")
  userId              String    @map("user_id")
  registrationDate    DateTime  @map("registration_date") @db.Timestamp(6)
  status              String?
  attendanceConfirmed Boolean?  @default(false) @map("attendance_confirmed")
  createdAt           DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt           DateTime? @map("updated_at") @db.Timestamp(6)
  id                  String    @id @default(cuid())
  activity            activity  @relation(fields: [activityId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  user                user      @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("activity_registration")
}

model badge {
  id          String     @id @default(cuid())
  name        String
  description String?
  icon        String?
  level       Int?
  createdAt   DateTime   @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime?  @map("updated_at") @db.Timestamp(6)
  userBadgeId String?
  categoryId  Int        @unique @map("category_id")
  category    category   @relation(fields: [categoryId], references: [id])
  userBadge   userBadge? @relation(fields: [userBadgeId], references: [id])
}

model blockedContact {
  id        String    @id @default(cuid())
  userId    String    @map("user_id")
  contactId String    @map("contact_id")
  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt DateTime? @map("updated_at") @db.Timestamp(6)
  reason    String?
  user      user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("blocked_contact")
}

model category {
  id                   Int                    @id @default(autoincrement())
  description          String?
  typeId               Int                    @map("type_id")
  chapterId            Int                    @map("chapter_id")
  categoryName         String                 @map("category_name")
  createdAt            DateTime               @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt            DateTime?              @map("updated_at") @db.Timestamp(6)
  activity             activity[]
  badge                badge[]
  categoryChapter      categoryChapter        @relation(fields: [chapterId], references: [chapterId])
  categoryType         categoryType           @relation(fields: [typeId], references: [id])
  cognitiveExercise    cognitiveExercise[]
  collaborativeProject collaborativeProject[]
  exerciseProgram      exerciseProgram[]
  helpRequest          helpRequest[]
  localService         localService[]
  nutritionalAdvice    nutritionalAdvice[]
  resource             resource[]
  skill                skill[]
  urbanIssueReport     urbanIssueReport[]
  wellnessBadge        wellnessBadge[]
  wellnessGoal         wellnessGoal[]
}

model categoryChapter {
  id                 Int        @id @default(autoincrement())
  chapterId          Int        @unique @map("chapter_id")
  chapterName        String     @unique @map("chapter_name")
  chapterDescription String?    @map("chapter_description")
  createdAt          DateTime   @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt          DateTime?  @map("updated_at") @db.Timestamp(6)
  category           category[]

  @@index([chapterName])
  @@map("category_chapter")
}

model categoryType {
  id         Int        @id @default(autoincrement())
  name       String     @unique
  createdAt  DateTime   @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt  DateTime?  @map("updated_at") @db.Timestamp(6)
  categories category[]

  @@index([name])
  @@map("category_type")
}

model cognitiveExercise {
  id              String         @id @default(cuid())
  name            String
  durationMinutes Int?           @map("duration_minutes")
  description     String?
  image           String?
  createdAt       DateTime       @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt       DateTime?      @map("updated_at") @db.Timestamp(6)
  difficultyLevel Int?           @map("difficulty_level")
  categoryId      Int            @map("category_id")
  category        category       @relation(fields: [categoryId], references: [id])
  userActivity    userActivity[]

  @@map("cognitive_exercise")
}

model collaborativeProject {
  id            String          @id @default(cuid())
  title         String
  description   String?
  creatorId     String          @map("creator_id")
  creationDate  DateTime        @default(now()) @map("creation_date") @db.Timestamp(6)
  status        String?
  createdAt     DateTime        @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt     DateTime?       @map("updated_at") @db.Timestamp(6)
  categoryId    Int             @map("category_id")
  category      category        @relation(fields: [categoryId], references: [id])
  user          user            @relation(fields: [creatorId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  projectMember projectMember[]
  projectTask   projectTask[]

  @@map("collaborative_project")
}

model contactRequest {
  id        String    @id @default(cuid())
  userId    String    @map("user_id")
  contactId String    @map("contact_id")
  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt DateTime? @map("updated_at") @db.Timestamp(6)
  message   String?
  status    String    @default("pending")
  user      user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("contact_request")
}

model conversation {
  id                      String                    @id @default(cuid())
  type                    String
  title                   String
  createdAt               DateTime                  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt               DateTime?                 @map("updated_at") @db.Timestamp(6)
  conversationParticipant conversationParticipant[]
  message                 message[]
  videoCall               videoCall[]
}

model conversationParticipant {
  conversationId String       @map("conversation_id")
  userId         String       @map("user_id")
  dateAdded      DateTime?    @map("date_added") @db.Timestamptz(6)
  administrator  Boolean?
  lastAccess     DateTime     @default(now()) @map("last_access") @db.Timestamp(6)
  createdAt      DateTime     @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime?    @map("updated_at") @db.Timestamp(6)
  id             String       @id @default(cuid())
  conversation   conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  user           user         @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("conversation_participant")
}

model exerciseProgram {
  id                        String         @id @default(cuid())
  name                      String
  adaptedForReducedMobility Boolean?       @map("adapted_for_reduced_mobility")
  durationMinutes           Int?           @map("duration_minutes")
  description               String?
  videoLink                 String?        @map("video_link")
  image                     String?
  createdAt                 DateTime       @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt                 DateTime?      @map("updated_at") @db.Timestamp(6)
  difficultyLevel           Int?           @map("difficulty_level")
  categoryId                Int            @map("category_id")
  category                  category       @relation(fields: [categoryId], references: [id])
  userActivity              userActivity[]

  @@map("exercise_program")
}

model forumMessage {
  id              String     @id @default(cuid())
  topicId         String     @map("topic_id")
  authorId        String     @map("author_id")
  content         String
  solutionMessage Boolean?   @map("solution_message")
  createdAt       DateTime   @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt       DateTime?  @map("updated_at") @db.Timestamp(6)
  user            user       @relation(fields: [authorId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  forumTopic      forumTopic @relation(fields: [topicId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("forum_message")
}

model forumSection {
  id          Int          @id @default(autoincrement())
  name        String
  description String?
  createdAt   DateTime     @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime?    @map("updated_at") @db.Timestamp(6)
  forumTopics forumTopic[]
  user        user         @relation(fields: [authorId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  authorId    String       @map("author_id")

  @@map("forum_section")
}

model forumTopic {
  id           String         @id @default(cuid())
  authorId     String         @map("author_id")
  title        String
  pinned       Boolean?       @default(false)
  status       String?
  views        Int?           @default(0)
  createdAt    DateTime       @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt    DateTime?      @map("updated_at") @db.Timestamp(6)
  sectionId    Int            @map("section_id")
  forumMessage forumMessage[]
  forumSection forumSection   @relation(fields: [sectionId], references: [id])
  user         user?          @relation(fields: [userId], references: [id])
  userId       String?

  @@map("forum_topic")
}

model healthIndicator {
  id                   String    @id @default(cuid())
  userId               String    @map("user_id")
  recordingDate        DateTime  @map("recording_date") @db.Date
  stepCount            Int?      @map("step_count")
  sleepDurationMinutes Int?      @map("sleep_duration_minutes")
  sleepQuality         Int?      @map("sleep_quality")
  weight               Float?
  notes                String?
  createdAt            DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt            DateTime? @map("updated_at") @db.Timestamp(6)
  moodId               Int?      @map("mood_category_id")
  mood                 mood?     @relation(fields: [moodId], references: [id])
  user                 user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("health_indicator")
}

model helpOffer {
  id          String      @id @default(cuid())
  requestId   String      @map("request_id")
  helperId    String      @map("helper_id")
  offerDate   DateTime    @map("offer_date") @db.Timestamp(6)
  message     String?
  status      String?
  createdAt   DateTime    @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime?   @map("updated_at") @db.Timestamp(6)
  user        user        @relation(fields: [helperId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  helpRequest helpRequest @relation(fields: [requestId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("help_offer")
}

model helpRequest {
  id                String             @id @default(cuid())
  creatorId         String             @map("creator_id")
  title             String
  description       String?
  neededDate        DateTime           @map("needed_date") @db.Timestamp(6)
  estimatedDuration Int?               @map("estimated_duration")
  location          String?
  gpsCoordinates    String?            @map("gps_coordinates")
  recurring         Boolean?           @default(false)
  frequency         String?
  status            String?
  pointsOffered     Int?               @default(0) @map("points_offered")
  createdAt         DateTime           @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt         DateTime?          @map("updated_at") @db.Timestamp(6)
  categoryId        Int                @map("category_id")
  helpOffer         helpOffer[]
  category          category           @relation(fields: [categoryId], references: [id])
  user              user               @relation(fields: [creatorId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  serviceCompleted  serviceCompleted[]

  @@map("help_request")
}

model interest {
  id           String         @id @default(cuid())
  name         String
  description  String?
  createdAt    DateTime       @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt    DateTime?      @map("updated_at") @db.Timestamp(6)
  userInterest userInterest[] @relation("interestTouserInterest")
}

model localService {
  id             String          @id @default(cuid())
  name           String
  address        String?
  gpsCoordinates String?         @map("gps_coordinates")
  phone          String?
  website        String?
  description    String?
  hours          String?
  seniorFriendly Boolean?        @map("senior_friendly")
  createdAt      DateTime        @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime?       @map("updated_at") @db.Timestamp(6)
  categoryId     Int             @map("category_id")
  category       category        @relation(fields: [categoryId], references: [id])
  serviceRating  serviceRating[]

  @@map("local_service")
}

model medicationReminder {
  id                  String    @id @default(cuid())
  userId              String    @map("user_id")
  medicationName      String    @map("medication_name")
  dosage              String?
  morningReminderTime DateTime? @map("morning_reminder_time") @db.Time(6)
  noonReminderTime    DateTime? @map("noon_reminder_time") @db.Time(6)
  eveningReminderTime DateTime? @map("evening_reminder_time") @db.Time(6)
  nightReminderTime   DateTime? @map("night_reminder_time") @db.Time(6)
  daysOfWeek          String?   @map("days_of_week")
  instructions        String?
  active              Boolean?  @default(true)
  startDate           DateTime? @map("start_date") @db.Timestamp(6)
  endDate             DateTime? @map("end_date") @db.Timestamp(6)
  createdAt           DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt           DateTime? @map("updated_at") @db.Timestamp(6)
  user                user      @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("medication_reminder")
}

model menuItem {
  id    String @id @default(cuid())
  label String
  key   String @default("undefined")

  @@map("menu_items")
}

model message {
  id             String       @id @default(cuid())
  conversationId String       @map("conversation_id")
  senderId       String       @map("sender_id")
  content        String
  sendDate       DateTime     @map("send_date") @db.Timestamp(6)
  type           String?
  read           Boolean?     @default(false)
  createdAt      DateTime     @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime?    @map("updated_at") @db.Timestamp(6)
  conversation   conversation @relation(fields: [conversationId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user           user         @relation(fields: [senderId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model mood {
  id              Int               @id @default(autoincrement())
  description     String?
  valence         Valence
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  color           String            @default("")
  intensity       Int               @default(0)
  name            String            @unique @default("")
  healthIndicator healthIndicator[]
}

model municipalEvent {
  id             String    @id @default(cuid())
  title          String
  description    String?
  startDate      DateTime  @map("start_date") @db.Timestamp(6)
  endDate        DateTime  @map("end_date") @db.Timestamp(6)
  location       String
  gpsCoordinates String?   @map("gps_coordinates")
  organizer      String?
  contact        String?
  officialLink   String?   @map("official_link")
  createdAt      DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime? @map("updated_at") @db.Timestamp(6)

  @@map("municipal_event")
}

model notification {
  id         String    @id @default(cuid())
  userId     String    @map("user_id")
  type       String
  content    String
  read       Boolean?
  actionLink String?   @map("action_link")
  createdAt  DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt  DateTime? @map("updated_at") @db.Timestamp(6)
  user       user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model notificationPreferences {
  userId               String    @id @map("user_id")
  quietHoursStart      DateTime? @map("quiet_hours_start") @db.Time(6)
  quietHoursEnd        DateTime? @map("quiet_hours_end") @db.Time(6)
  createdAt            DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt            DateTime? @map("updated_at") @db.Timestamp(6)
  activityNotification Boolean?  @default(false) @map("activity_notification")
  emailNotification    Boolean?  @default(false) @map("email_notification")
  forumNotification    Boolean?  @default(false) @map("forum_notification")
  helpNotification     Boolean?  @default(false) @map("help_notification")
  messageNotification  Boolean?  @default(false) @map("message_notification")
  pushNotification     Boolean?  @default(false) @map("push_notification")
  smsNotification      Boolean?  @default(false) @map("sms_notification")
  user                 user      @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("notification_preferences")
}

model nutritionalAdvice {
  id          String    @id @default(cuid())
  title       String
  description String?
  season      String?
  image       String?
  createdAt   DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime? @map("updated_at") @db.Timestamp(6)
  categoryId  Int       @map("category_id")
  category    category  @relation(fields: [categoryId], references: [id])

  @@map("nutritional_advice")
}

model projectMember {
  projectId            String               @map("project_id")
  userId               String               @map("user_id")
  role                 String
  joinDate             DateTime             @map("join_date") @db.Timestamp(6)
  createdAt            DateTime             @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt            DateTime?            @map("updated_at") @db.Timestamp(6)
  id                   String               @id @default(cuid())
  collaborativeProject collaborativeProject @relation(fields: [projectId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user                 user                 @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("project_member")
}

model projectTask {
  id                   String               @id @default(cuid())
  projectId            String               @map("project_id")
  title                String
  description          String?
  creationDate         DateTime             @map("creation_date") @db.Timestamp(6)
  dueDate              DateTime?            @map("due_date") @db.Timestamp(6)
  status               String?
  assigneeId           String?              @map("assignee_id")
  createdAt            DateTime             @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt            DateTime?            @map("updated_at") @db.Timestamp(6)
  user                 user?                @relation(fields: [assigneeId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  collaborativeProject collaborativeProject @relation(fields: [projectId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("project_task")
}

model resource {
  id             String    @id @default(cuid())
  title          String
  content        String?
  type           String
  authorId       String    @map("author_id")
  adminValidated Boolean?  @default(false) @map("admin_validated")
  createdAt      DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime? @map("updated_at") @db.Timestamp(6)
  categoryId     Int       @map("category_id")
  user           user      @relation(fields: [authorId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  category       category  @relation(fields: [categoryId], references: [id])
}

model satisfactionSurvey {
  id             String           @id @default(cuid())
  title          String
  description    String?
  startDate      DateTime?        @map("start_date") @db.Timestamp(6)
  endDate        DateTime?        @map("end_date") @db.Timestamp(6)
  active         Boolean?         @default(false)
  createdAt      DateTime         @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime?        @map("updated_at") @db.Timestamp(6)
  surveyResponse surveyResponse[]

  @@map("satisfaction_survey")
}

model serviceCompleted {
  id              String      @id @default(cuid())
  requestId       String      @map("request_id")
  helperId        String      @map("helper_id")
  completionDate  DateTime    @map("completion_date") @db.Timestamp(6)
  actualDuration  Int?        @map("actual_duration")
  creatorComment  String?     @map("creator_comment")
  helperComment   String?     @map("helper_comment")
  creatorRating   Int?        @map("creator_rating")
  helperRating    Int?        @map("helper_rating")
  pointsExchanged Int?        @map("points_exchanged")
  createdAt       DateTime    @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt       DateTime?   @map("updated_at") @db.Timestamp(6)
  user            user        @relation(fields: [helperId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  helpRequest     helpRequest @relation(fields: [requestId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("service_completed")
}

model serviceRating {
  serviceId    String       @map("service_id")
  userId       String       @map("user_id")
  rating       Int
  comment      String?
  ratingDate   DateTime?    @map("rating_date") @db.Timestamp(6)
  createdAt    DateTime     @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt    DateTime?    @map("updated_at") @db.Timestamp(6)
  id           String       @id @default(cuid())
  localService localService @relation(fields: [serviceId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  user         user         @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("service_rating")
}

model session {
  id           String   @id @default(cuid())
  refreshToken String   @unique
  userId       String
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  expiresAt    DateTime
  userAgent    String?
  ipAddress    String?
  user         user     @relation(fields: [userId], references: [id])

  @@index([refreshToken])
}

model skill {
  id          String      @id @default(cuid())
  name        String
  description String?
  createdAt   DateTime    @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime?   @map("updated_at") @db.Timestamp(6)
  categoryId  Int         @map("category_id")
  category    category    @relation(fields: [categoryId], references: [id])
  userSkill   userSkill[]
}

model surveyResponse {
  surveyId           String             @map("survey_id")
  userId             String             @map("user_id")
  responses          Json?
  createdAt          DateTime           @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt          DateTime?          @map("updated_at") @db.Timestamp(6)
  id                 String             @id @default(cuid())
  responseDate       DateTime?          @default(now()) @db.Timestamp(6)
  satisfactionSurvey satisfactionSurvey @relation(fields: [surveyId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  user               user               @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("survey_response")
}

model trustCircle {
  userId      String    @map("user_id")
  contactId   String    @map("contact_id")
  dateAdded   DateTime  @map("date_added") @db.Date
  accessLevel String    @map("access_level")
  createdAt   DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime? @map("updated_at") @db.Timestamp(6)
  id          String    @id @default(cuid())

  @@map("trust_circle")
}

model trustedContact {
  id                      String    @id @default(cuid())
  userId                  String    @map("user_id")
  lastName                String    @map("last_name")
  firstName               String    @map("first_name")
  email                   String?   @unique
  phone                   String
  relationship            String?
  shareMedications        Boolean   @default(false) @map("share_medications")
  shareHealthIndicators   Boolean   @default(false) @map("share_health_indicators")
  shareWellnessActivities Boolean   @default(false) @map("share_wellness_activities")
  emergencyAlerts         Boolean   @default(false) @map("emergency_alerts")
  createdAt               DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt               DateTime? @map("updated_at") @db.Timestamp(6)
  user                    user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("trusted_contact")
}

model urbanIssueReport {
  id             String    @id @default(cuid())
  userId         String    @map("user_id")
  description    String
  address        String
  gpsCoordinates String?   @map("gps_coordinates")
  reportDate     DateTime  @map("report_date") @db.Timestamp(6)
  status         String?
  cityReference  String?   @map("city_reference")
  createdAt      DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime? @map("updated_at") @db.Timestamp(6)
  categoryId     Int       @map("category_id")
  category       category  @relation(fields: [categoryId], references: [id])
  user           user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("urban_issue_report")
}

model user {
  id                      String                    @id @default(cuid())
  email                   String                    @unique
  passwordHash            String                    @map("password_hash")
  firstName               String?                   @map("first_name")
  lastName                String?                   @map("last_name")
  phone                   String?
  registrationDate        DateTime                  @default(now()) @map("registration_date") @db.Timestamp(6)
  helpPoints              Int?                      @default(0) @map("help_points")
  reducedMobility         Boolean?                  @default(false) @map("reduced_mobility")
  status                  String?                   @default("active")
  createdAt               DateTime                  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt               DateTime?                 @map("updated_at") @db.Timestamp(6)
  avatar                  String?                   @map("avatar")
  birthDate               DateTime?                 @map("birth_date") @db.Date
  isAdmin                 Boolean?                  @default(false) @map("is_admin")
  latitude                String?                   @map("latitude")
  longitude               String?                   @map("longitude")
  description             String?
  profession              String?
  address                 String?
  city                    String?
  postalCode              String?                   @map("postal_code")
  activity                activity[]
  activityLog             activityLog[]
  activityRegistration    activityRegistration[]
  blockedContact          blockedContact[]
  collaborativeProject    collaborativeProject[]
  contactRequest          contactRequest[]
  conversationParticipant conversationParticipant[]
  forumMessage            forumMessage[]
  forumSections           forumSection[]
  forumTopics             forumTopic[]
  healthIndicator         healthIndicator[]
  helpOffer               helpOffer[]
  helpRequest             helpRequest[]
  medicationReminder      medicationReminder[]
  message                 message[]
  notification            notification[]
  notificationPreferences notificationPreferences?
  projectMember           projectMember[]
  projectTask             projectTask[]
  resource                resource[]
  serviceCompleted        serviceCompleted[]
  serviceRating           serviceRating[]
  session                 session[]
  surveyResponse          surveyResponse[]
  trustedContact          trustedContact[]
  urbanIssueReport        urbanIssueReport[]
  userActivity            userActivity[]
  userBadge               userBadge[]
  userContacts            userContacts[]
  userDevice              userDevice[]
  userInterest            userInterest[]
  userPreferences         userPreferences[]
  userSkill               userSkill[]
  userStatistics          userStatistics?
  videoCall               videoCall[]
  wellnessGoal            wellnessGoal[]
}

model userActivity {
  id                       String             @id @default(cuid())
  userId                   String             @map("user_id")
  completionDate           DateTime           @map("completion_date") @db.Date
  exerciseProgramId        String?            @map("exercise_program_id")
  cognitiveExerciseId      String?            @map("cognitive_exercise_id")
  durationMinutes          Int?               @map("duration_minutes")
  perceivedDifficultyLevel Int?               @map("perceived_difficulty_level")
  enjoymentLevel           Int?               @map("enjoyment_level")
  comment                  String?
  createdAt                DateTime           @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt                DateTime?          @map("updated_at") @db.Timestamp(6)
  cognitiveExercise        cognitiveExercise? @relation(fields: [cognitiveExerciseId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  exerciseProgram          exerciseProgram?   @relation(fields: [exerciseProgramId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user                     user               @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_activity")
}

model userBadge {
  userId          String    @map("user_id")
  badgeId         String    @map("badge_id")
  achievementDate DateTime  @map("achievement_date") @db.Timestamp(6)
  createdAt       DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt       DateTime? @map("updated_at") @db.Timestamp(6)
  id              String    @id @default(cuid())
  badge           badge[]
  user            user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_badge")
}

model userContacts {
  id        String    @id @default(cuid())
  userId    String    @map("user_id")
  contactId String    @map("contact_id")
  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt DateTime? @map("updated_at") @db.Timestamp(6)
  user      user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_contacts")
}

model userDevice {
  id                String    @id @default(cuid())
  userId            String    @map("user_id")
  deviceType        String    @map("device_type")
  deviceName        String?   @map("device_name")
  operatingSystem   String?   @map("operating_system")
  notificationToken String    @map("notification_token")
  lastConnection    DateTime  @map("last_connection") @db.Timestamp(6)
  createdAt         DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt         DateTime? @map("updated_at") @db.Timestamp(6)
  user              user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_device")
}

model userInterest {
  id         String     @id @default(cuid())
  userId     String     @map("user_id")
  interestId String     @map("interest_id")
  createdAt  DateTime   @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt  DateTime?  @map("updated_at") @db.Timestamp(6)
  user       user       @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  interest   interest[] @relation("interestTouserInterest")

  @@map("user_interest")
}

model userPreferences {
  id                        String    @id @default(cuid())
  userId                    String    @map("user_id")
  emailUpdates              Boolean?  @default(true) @map("email_updates")
  smsUpdates                Boolean?  @default(false) @map("sms_updates")
  fontSize                  String?   @default("normal") @map("font_size")
  highContrast              Boolean?  @default(false) @map("high_contrast")
  dataSharing               Boolean?  @default(false) @map("data_sharing")
  createdAt                 DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt                 DateTime? @map("updated_at") @db.Timestamp(6)
  frequencyDaily            Boolean?  @default(false) @map("frequency_daily")
  frequencyInstant          Boolean   @default(true) @map("frequency_instant")
  messagesFromEverybody     Boolean?  @default(true) @map("messages_from_everybody")
  messagesFromFriends       Boolean?  @default(true) @map("messages_from_friends")
  messagesFromNoOne         Boolean?  @default(false) @map("messages_from_no_one")
  statusVisibilityEverybody Boolean?  @default(true) @map("status_visibility_everybody")
  statusVisibilityFriends   Boolean?  @default(true) @map("status_visibility_friends")
  statusVisibilityNoOne     Boolean?  @default(false) @map("status_visibility_no_one")
  notificationActivities    Boolean?  @default(true) @map("notification_activities")
  notificationForum         Boolean?  @default(true) @map("notification_forum")
  notificationMessages      Boolean?  @default(true) @map("notification_messages")
  user                      user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_preferences")
}

model userSkill {
  userId    String    @map("user_id")
  skillId   String    @map("skill_id")
  level     Int?
  updatedAt DateTime? @map("updated_at") @db.Timestamp(6)
  createdAt DateTime  @default(now()) @db.Timestamp(6)
  id        String    @id @default(cuid())
  skill     skill     @relation(fields: [skillId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user      user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_skill")
}

model userStatistics {
  userId                 String    @id @map("user_id")
  servicesProvided       Int?      @map("services_provided")
  servicesReceived       Int?      @map("services_received")
  activitiesParticipated Int?      @map("activities_participated")
  activitiesOrganized    Int?      @map("activities_organized")
  forumMessages          Int?      @map("forum_messages")
  totalHelpPoints        Int?      @map("total_help_points")
  networkSize            Int?      @map("network_size")
  createdAt              DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt              DateTime? @map("updated_at") @db.Timestamp(6)
  user                   user      @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("user_statistics")
}

model videoCall {
  id             String       @id @default(cuid())
  conversationId String       @map("conversation_id")
  initiatorId    String       @map("initiator_id")
  startDate      DateTime     @map("start_date") @db.Timestamp(6)
  endDate        DateTime     @map("end_date") @db.Timestamp(6)
  status         String
  createdAt      DateTime     @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt      DateTime?    @map("updated_at") @db.Timestamp(6)
  conversation   conversation @relation(fields: [conversationId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user           user         @relation(fields: [initiatorId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("video_call")
}

model wellnessBadge {
  id          String    @id @default(cuid())
  name        String
  description String?
  image       String?
  level       Int
  createdAt   DateTime  @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt   DateTime? @map("updated_at") @db.Timestamp(6)
  categoryId  Int       @map("category_id")
  category    category  @relation(fields: [categoryId], references: [id])

  @@map("wellness_badge")
}

model wellnessGoal {
  id                   String                 @id @default(cuid())
  userId               String                 @map("user_id")
  title                String
  targetValue          Int                    @map("target_value")
  unit                 String
  frequency            String
  startDate            DateTime               @map("start_date") @db.Date
  endDate              DateTime               @map("end_date") @db.Date
  active               Boolean                @default(false)
  createdAt            DateTime               @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt            DateTime?              @map("updated_at") @db.Timestamp(6)
  categoryId           Int                    @map("category_id")
  category             category               @relation(fields: [categoryId], references: [id])
  user                 user                   @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  wellnessGoalProgress wellnessGoalProgress[]

  @@map("wellness_goal")
}

model wellnessGoalProgress {
  id            String       @id @default(cuid())
  goalId        String       @map("goal_id")
  recordingDate DateTime     @map("recording_date") @db.Date
  achievedValue Int          @map("achieved_value")
  goalAchieved  Boolean      @default(false) @map("goal_achieved")
  createdAt     DateTime     @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt     DateTime?    @map("updated_at") @db.Timestamp(6)
  wellnessGoal  wellnessGoal @relation(fields: [goalId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@map("wellness_goal_progress")
}

enum Valence {
  positive
  negative
  neutre
}
